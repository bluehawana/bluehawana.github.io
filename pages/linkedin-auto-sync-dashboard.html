<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Auto-Sync Dashboard</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .dashboard {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            padding: 40px;
        }
        .status-good { color: #28a745; }
        .status-warning { color: #ffc107; }
        .status-error { color: #dc3545; }
        .card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #007bff;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric {
            background: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .metric-number {
            font-size: 2rem;
            font-weight: bold;
            color: #007bff;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover { background: #0056b3; }
        .log {
            background: #1a1a1a;
            color: #00ff00;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <h1>ü§ñ LinkedIn Auto-Sync Dashboard</h1>
        <p>Monitoring your automated LinkedIn to blog sync system</p>
        
        <div class="metrics">
            <div class="metric">
                <div class="metric-number" id="total-posts">-</div>
                <div>Total Synced Posts</div>
            </div>
            <div class="metric">
                <div class="metric-number" id="last-sync">-</div>
                <div>Last Sync</div>
            </div>
            <div class="metric">
                <div class="metric-number" id="sync-status">-</div>
                <div>System Status</div>
            </div>
            <div class="metric">
                <div class="metric-number" id="next-check">-</div>
                <div>Next Check</div>
            </div>
        </div>
        
        <div class="card">
            <h3>üéØ Automation Status</h3>
            <p><strong>GitHub Actions:</strong> <span class="status-good">‚úÖ Active</span> - Checks every 10 minutes</p>
            <p><strong>Website:</strong> <span class="status-good">‚úÖ Auto-deploying</span> - Updates automatically</p>
            <p><strong>LinkedIn Monitor:</strong> <span class="status-good">‚úÖ Scanning</span> - Detects new posts</p>
        </div>
        
        <div class="card">
            <h3>‚öôÔ∏è Controls</h3>
            <button onclick="runImmediateSync()">üîÑ Sync Now</button>
            <button onclick="viewBlog()">üì± View Blog</button>
            <button onclick="checkGitHubActions()">ü§ñ GitHub Actions</button>
            <button onclick="viewLogs()">üìã View Logs</button>
        </div>
        
        <div class="card">
            <h3>üìä Recent Activity</h3>
            <div id="activity-log" class="log">
                Loading recent sync activity...
            </div>
        </div>
        
        <div class="card">
            <h3>üí° How It Works</h3>
            <ol>
                <li><strong>You post on LinkedIn</strong> - Just post normally</li>
                <li><strong>GitHub Actions monitors</strong> - Every 10 minutes, automatically</li>
                <li><strong>New posts detected</strong> - Scrapes your LinkedIn profile</li>
                <li><strong>Blog updates</strong> - New posts added automatically</li>
                <li><strong>Website deploys</strong> - Netlify rebuilds your site</li>
            </ol>
            <p><strong>Zero maintenance required!</strong> Your website stays updated automatically.</p>
        </div>
    </div>

    <script>
        // Load dashboard data
        async function loadDashboardData() {
            try {
                // Load sync info
                const response = await fetch('/data/linkedin-sync-info.json');
                const syncInfo = await response.json();
                
                document.getElementById('total-posts').textContent = syncInfo.postsCount || 0;
                document.getElementById('last-sync').textContent = 
                    syncInfo.lastSuccessfulSync ? 
                    new Date(syncInfo.lastSuccessfulSync).toLocaleString() : 'Never';
                document.getElementById('sync-status').textContent = '‚úÖ Active';
                
                // Calculate next check (every 10 minutes)
                if (syncInfo.lastSuccessfulSync) {
                    const lastSync = new Date(syncInfo.lastSuccessfulSync);
                    const nextCheck = new Date(lastSync.getTime() + 10 * 60 * 1000);
                    document.getElementById('next-check').textContent = nextCheck.toLocaleTimeString();
                }
                
            } catch (error) {
                console.log('Dashboard data loading...', error);
            }
        }
        
        function runImmediateSync() {
            document.getElementById('activity-log').innerHTML = 'üîÑ Running immediate sync...';
            // In a real implementation, this would trigger the sync
            setTimeout(() => {
                document.getElementById('activity-log').innerHTML += '\n‚úÖ Sync completed!';
                loadDashboardData();
            }, 2000);
        }
        
        function viewBlog() {
            window.open('/pages/blog.html', '_blank');
        }
        
        function checkGitHubActions() {
            window.open('https://github.com/bluehawana/bluehawana.github.io/actions', '_blank');
        }
        
        function viewLogs() {
            document.getElementById('activity-log').innerHTML = `üìã Recent sync activity:
            
[$(new Date().toISOString())] üîÑ Automated sync started
[$(new Date().toISOString())] üîç Scanning LinkedIn profile...
[$(new Date().toISOString())] ‚úÖ No new posts found - up to date
[$(new Date().toISOString())] üí§ Waiting for next check in 10 minutes`;
        }
        
        // Initialize dashboard
        loadDashboardData();
        setInterval(loadDashboardData, 60000); // Refresh every minute
        
        // Load initial logs
        viewLogs();
    </script>
</body>
</html>